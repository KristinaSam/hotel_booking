<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Подтверждение бронирования</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <h1>Подтверждение бронирования</h1>
    <p><strong>Дата заезда:</strong> <span th:text="${bookingDto.checkInDate}"></span></p>
    <p><strong>Дата выезда:</strong> <span th:text="${bookingDto.checkOutDate}"></span></p>
    <p><strong>Количество взрослых:</strong> <span th:text="${bookingDto.adultsCount}"></span></p>
    <p><strong>Количество детей:</strong> <span th:text="${bookingDto.childrenCount}"></span></p>
    <h3>Выбранные номера:</h3>
    <ul class="list-group">
        <li class="list-group-item" th:each="room : ${bookingDto.roomDtos}">
            Номер: <span th:text="${room.number}"></span> - Цена: <span th:text="${room.price}"></span> €
        </li>
    </ul>
    <h3>Выбранный план питания:</h3>
    <p th:text="${bookingDto.nutritionDto.name}"></p>
    <p>Цена: <span th:text="${bookingDto.nutritionDto.price}"></span> €</p>
    <h3>Дополнительные услуги:</h3>
    <ul class="list-group">
        <li class="list-group-item" th:each="service : ${bookingDto.additionalServiceDtos}">
            <span th:text="${service.name}"></span> - Цена: <span th:text="${service.price}"></span> €
        </li>
    </ul>
    <div class="mt-3">
        <form th:action="@{/bookings/final}" method="post">
            <input type="hidden" th:name="checkInDate" th:value="${bookingDto.checkInDate}"/>
            <input type="hidden" th:name="checkOutDate" th:value="${bookingDto.checkOutDate}"/>
            <input type="hidden" th:name="adultsCount" th:value="${bookingDto.adultsCount}"/>
            <input type="hidden" th:name="childrenCount" th:value="${bookingDto.childrenCount}"/>
            <input type="hidden" th:each="room : ${bookingDto.roomDtos}" th:name="selectedRoomIds" th:value="${room.id}"/>
            <input type="hidden" th:name="nutritionDto" th:value="${bookingDto.nutritionDto.id}"/>
            <input type="hidden" th:each="additionalService : ${bookingDto.additionalServiceDtos}" th:name="selectedAdditionalServiceIds" th:value="${additionalService.id}"/>

            <button type="submit" class="btn btn-success">Подтвердить бронирование</button>
        </form>
    </div>
</div>
</body>
</html>