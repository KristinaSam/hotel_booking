<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Подтверждение бронирования</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <h1>Подтверждение бронирования</h1>
    <h2>Дата заезда: <span th:text="${booking.bookingDto.checkInDate}"></span></h2>
    <h2>Дата выезда: <span th:text="${booking.bookingDto.checkOutDate}"></span></h2>
    <h3>Количество взрослых: <span th:text="${booking.bookingDto.adultsCount}"></span></h3>
    <h3>Количество детей: <span th:text="${booking.bookingDto.childrenCount}"></span></h3>

    <h3>Выбранные номера:</h3>
    <ul class="list-group">
        <li class="list-group-item" th:each="room : ${booking.bookingDto.roomDtos}">
            Номер: <span th:text="${room.number}"></span>
        </li>
    </ul>

    <h3>Выбранный план питания:</h3>
    <p th:text="${booking.bookingDto.nutritionDto.name}"></p>
    <p th:text="${booking.bookingDto.nutritionDto.description}"></p>
    <p th:text="${booking.bookingDto.nutritionDto.price} + ' €'"></p>

    <h3>Выбранные дополнительные услуги:</h3>
    <ul class="list-group">
        <li class="list-group-item" th:each="service : ${booking.bookingDto.additionalServiceDtos}">
            <span th:text="${service.name}"></span> - <span th:text="${service.price} + ' €'"></span>
        </li>
    </ul>

    <div class="mt-3">
        <form th:action="@{/bookings/finalize}" method="post">
            <input type="hidden" th:name="checkInDate" th:value="${booking.bookingDto.checkInDate}"/>
            <input type="hidden" th:name="checkOutDate" th:value="${booking.bookingDto.checkOutDate}"/>
            <input type="hidden" th:name="adultsCount" th:value="${booking.bookingDto.adultsCount}"/>
            <input type="hidden" th:name="childrenCount" th:value="${booking.bookingDto.childrenCount}"/>
            <input type="hidden" th:each="room : ${booking.bookingDto.roomDtos}" th:name="'selectedRoomIds'" th:value="${room.id}"/>
            <input type="hidden" th:each="service : ${booking.bookingDto.additionalServiceDtos}" th:name="'selectedAdditionalServiceIds'" th:value="${service.id}"/>
            <button type="submit" class="btn btn-success">Подтвердить бронирование</button>
        </form>
    </div>
</div>
</body>
</html>